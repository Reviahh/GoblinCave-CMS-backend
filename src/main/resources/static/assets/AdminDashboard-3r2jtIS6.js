import{useCompetitionStore as at}from"./competition-BeX1I71u.js";import{l as lt,b as ot,d as st,g as nt,r as rt,c as it,e as ut,f as dt,h as pt,i as mt,j as ct,k as vt,m as gt,n as ft,o as bt,p as yt,q as wt,s as ht,a as Ct,t as xt}from"./api-BhPjLLsq.js";import{_ as Vt,r as n,o as _t,d as $,e as d,f as t,w as o,g as m,E as i,h as kt,l as c,j as x,i as u,m as f,F as Y,v as q,t as je,x as he}from"./index-LBqe1eNs.js";import"./competition-DDRzTI-D.js";const zt={class:"admin-dashboard"},Tt={class:"tab-content"},St={class:"toolbar"},Ut={class:"tab-content"},$t={class:"toolbar"},Dt={class:"tab-content"},Rt={class:"toolbar"},Nt={class:"tab-content"},Pt={class:"toolbar"},Lt={class:"tab-content"},Mt={class:"toolbar"},jt={class:"tab-content"},Et={class:"tab-content"},It={class:"toolbar"},Bt={style:{"min-height":"200px"}},Ft=["innerHTML"],Yt={__name:"AdminDashboard",setup(qt){const Ee=at(),Ce=n("competitions"),V=n([]),H=n(!1),A=n(1),O=n(10),xe=n(0),G=n(""),D=n(!1),p=n({}),J=n(null),T=n(!1),L=async()=>{H.value=!0;try{const l=await lt({pageNum:A.value,pageSize:O.value,name:G.value});l&&l.code===0&&(V.value=l.data?.list||l.data||[],xe.value=l.data?.total||V.value.length)}catch(l){i.error("获取竞赛列表失败："+(l?.message||"未知错误"))}finally{H.value=!1}},Ve=l=>{l?p.value={...l}:p.value={name:"",summary:"",content:"",startTime:"",endTime:"",maxMembers:3,organizer:"系统管理员",coverUrl:""},D.value=!0},Ie=async()=>{if(J.value)try{await J.value.validate(),T.value=!0;const l=!!p.value.id,s=await(l?ht:Ct)(p.value);if(s&&s.code===0)i.success(l?"更新成功":"创建成功"),D.value=!1,await L();else throw new Error(s?.message||"操作失败")}catch(l){l?.message&&i.error(l.message)}finally{T.value=!1}},Be=async l=>{try{await he.confirm("确定要删除这个竞赛吗？删除后相关的招募、队伍、报名等数据也将被清理。","删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"});const e=i({message:"正在删除竞赛及相关数据...",type:"info",duration:0}),s=await st(l);if(e.close(),s&&s.code===0)await Ee.deleteCompetition(l),i.success("删除成功，已自动刷新数据");else throw new Error(s?.message||"删除失败")}catch(e){e!=="cancel"&&i.error(e?.message||"删除失败")}},M=n([]),K=n(!1),_e=n(1),ke=n(10),ze=n(0),j=n(null),Q=async()=>{if(!j.value){M.value=[];return}K.value=!0;try{const l=await nt(j.value);l&&l.code===0&&(M.value=l.data?.list||l.data||[],ze.value=l.data?.total||M.value.length)}catch(l){i.error("获取报名列表失败："+(l?.message||"未知错误"))}finally{K.value=!1}},Te=async(l,e)=>{try{const s=await rt({registrationId:l,status:e,reviewComment:e==="approved"?"审核通过":"审核未通过"});if(s&&s.code===0)i.success("审核成功"),await Q();else throw new Error(s?.message||"审核失败")}catch(s){i.error(s?.message||"审核失败")}},Fe=l=>({pending:"warning",approved:"success",rejected:"danger"})[l]||"info",E=n([]),W=n(!1),X=n(1),Z=n(10),Se=n(0),b=n(null),R=n(!1),_=n({submissionId:null,score:0,comment:""}),ee=n(!1),Ue=n([]),te=async()=>{if(!b.value){E.value=[];return}W.value=!0;try{const l=await it({competitionId:b.value,pageNum:X.value,pageSize:Z.value});l&&l.code===0&&(E.value=l.data?.list||l.data||[],Se.value=l.data?.total||E.value.length)}catch(l){i.error("获取提交列表失败："+(l?.message||"未知错误"))}finally{W.value=!1}},Ye=l=>{_.value={submissionId:l.id,score:l.score||0,comment:l.comment||""},R.value=!0},qe=async()=>{T.value=!0;try{const l=await xt(_.value);if(l&&l.code===0)i.success("评分成功"),R.value=!1,await te();else throw new Error(l?.message||"评分失败")}catch(l){i.error(l?.message||"评分失败")}finally{T.value=!1}},He=async()=>{try{const l=await dt(b.value);if(l&&l.code===0)Ue.value=l.data||[],ee.value=!0;else throw new Error(l?.message||"获取榜单失败")}catch(l){i.error(l?.message||"获取榜单失败")}},Ae=async()=>{try{const e=(await ut(b.value)).data,s=window.URL.createObjectURL(e),v=document.createElement("a");v.href=s,v.download=`成绩导出_${b.value}_${Date.now()}.xlsx`,v.click(),window.URL.revokeObjectURL(s),i.success("导出成功")}catch(l){i.error("导出失败："+(l?.message||"未知错误"))}},S=n(!1),y=n(!1),N=n(""),w=n(""),Oe=async l=>{y.value=!0,S.value=!0,N.value="提交详情";try{const e=await pt(l);if(e&&e.code===0){const s=e.data;w.value=`
        <p><strong>提交ID:</strong> ${s.id}</p>
        <p><strong>队伍名称:</strong> ${s.teamName}</p>
        <p><strong>提交时间:</strong> ${s.submitTime}</p>
        <p><strong>分数:</strong> ${s.score||"未评分"}</p>
        <p><strong>内容:</strong> ${s.content||"无"}</p>
        <p><strong>评语:</strong> ${s.comment||"无"}</p>
      `}}catch{w.value="<p>加载失败</p>"}finally{y.value=!1}},ae=n([]),le=n(!1),oe=n(null),Ge=async()=>{if(!oe.value){ae.value=[];return}le.value=!0;try{ae.value=[],i.info("队伍列表功能待后端接口支持")}catch(l){i.error("获取队伍列表失败："+(l?.message||"未知错误"))}finally{le.value=!1}},Je=async l=>{y.value=!0,S.value=!0,N.value="队伍详情";try{const e=await mt(l);if(e&&e.code===0){const s=e.data;w.value=`
        <p><strong>队伍ID:</strong> ${s.id}</p>
        <p><strong>队伍名称:</strong> ${s.teamName}</p>
        <p><strong>队长:</strong> ${s.leaderName}</p>
        <p><strong>队员:</strong> ${s.members?.join(", ")||"无"}</p>
        <p><strong>描述:</strong> ${s.description||"无"}</p>
      `}}catch{w.value="<p>加载失败</p>"}finally{y.value=!1}},se=n([]),ne=n(!1),re=n(1),ie=n(10),$e=n(0),ue=n(null),de=async()=>{ne.value=!0;try{const l=await ct({competitionId:ue.value,pageNum:re.value,pageSize:ie.value});l&&l.code===0&&(se.value=l.data?.list||l.data||[],$e.value=l.data?.total||se.value.length)}catch(l){i.error("获取招募列表失败："+(l?.message||"未知错误"))}finally{ne.value=!1}},Ke=async l=>{y.value=!0,S.value=!0,N.value="招募详情";try{const e=await vt(l);if(e&&e.code===0){const s=e.data;w.value=`
        <p><strong>标题:</strong> ${s.title}</p>
        <p><strong>内容:</strong> ${s.content}</p>
        <p><strong>发布者:</strong> ${s.author}</p>
        <p><strong>竞赛:</strong> ${s.competitionName}</p>
        <p><strong>标签:</strong> ${s.tags?.join(", ")||"无"}</p>
        <p><strong>发布时间:</strong> ${s.createTime}</p>
      `}}catch{w.value="<p>加载失败</p>"}finally{y.value=!1}},Qe=async l=>{try{await he.confirm("确定要删除这条招募信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await gt(l);if(e&&e.code===0)i.success("删除成功"),await de();else throw new Error(e?.message||"删除失败")}catch(e){e!=="cancel"&&i.error(e?.message||"删除失败")}},pe=n([]),me=n(!1),ce=n(1),ve=n(10),De=n(0),We=async()=>{me.value=!0;try{const l=await bt({pageNum:ce.value,pageSize:ve.value});l&&l.code===0&&(pe.value=l.data?.list||l.data||[],De.value=l.data?.total||pe.value.length)}catch(l){i.error("获取会话列表失败："+(l?.message||"未知错误"))}finally{me.value=!1}},Xe=async l=>{y.value=!0,S.value=!0,N.value="会话消息";try{const e=await ft({sessionId:l,pageNum:1,pageSize:50});if(e&&e.code===0){const s=e.data?.list||e.data||[];w.value=s.map(v=>`<p><strong>${v.senderName||"未知"}:</strong> ${v.content} <em>(${v.sendTime})</em></p>`).join("")}}catch{w.value="<p>加载失败</p>"}finally{y.value=!1}},ge=n([]),fe=n(!1),be=n(1),ye=n(10),Re=n(0),we=n(""),P=async()=>{fe.value=!0;try{const l=await ot({userName:we.value,pageNum:be.value,pageSize:ye.value});l&&l.code===0&&(ge.value=l.data?.list||l.data||[],Re.value=l.data?.total||ge.value.length)}catch(l){i.error("获取用户列表失败："+(l?.message||"未知错误"))}finally{fe.value=!1}},Ze=async l=>{try{const e=l.userRole===1?0:1,s=await yt({userId:l.id,userRole:e});if(s&&s.code===0)i.success("角色更新成功"),await P();else throw new Error(s?.message||"角色更新失败")}catch(e){i.error(e?.message||"角色更新失败")}},et=async l=>{try{await he.confirm("确定要删除这个用户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await wt(l);if(e&&e.code===0)i.success("删除成功"),await P();else throw new Error(e?.message||"删除失败")}catch(e){e!=="cancel"&&i.error(e?.message||"删除失败")}};return _t(()=>{L(),P()}),(l,e)=>{const s=m("el-button"),v=m("el-input"),r=m("el-table-column"),h=m("el-table"),U=m("el-pagination"),k=m("el-tab-pane"),I=m("el-option"),B=m("el-select"),Ne=m("el-tag"),tt=m("el-tabs"),z=m("el-form-item"),Pe=m("el-date-picker"),Le=m("el-input-number"),Me=m("el-form"),F=m("el-dialog"),C=kt("loading");return d(),$("div",zt,[t(tt,{modelValue:Ce.value,"onUpdate:modelValue":e[19]||(e[19]=a=>Ce.value=a),type:"border-card"},{default:o(()=>[t(k,{label:"试炼管理",name:"competitions"},{default:o(()=>[c("div",Tt,[c("div",St,[t(s,{type:"primary",onClick:e[0]||(e[0]=a=>Ve())},{default:o(()=>[...e[33]||(e[33]=[u("新增试炼",-1)])]),_:1}),t(v,{modelValue:G.value,"onUpdate:modelValue":e[1]||(e[1]=a=>G.value=a),placeholder:"搜索试炼名称",style:{width:"300px","margin-left":"10px"},clearable:"",onChange:L},null,8,["modelValue"])]),x((d(),f(h,{data:V.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"name",label:"试炼名称",width:"200"}),t(r,{prop:"summary",label:"摘要","show-overflow-tooltip":""}),t(r,{prop:"startTime",label:"开始时间",width:"180"}),t(r,{prop:"endTime",label:"结束时间",width:"180"}),t(r,{prop:"maxMembers",label:"部落人数",width:"100"}),t(r,{label:"操作",width:"200",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Ve(a)},{default:o(()=>[...e[34]||(e[34]=[u("编辑",-1)])]),_:1},8,["onClick"]),t(s,{size:"small",type:"danger",onClick:g=>Be(a.id)},{default:o(()=>[...e[35]||(e[35]=[u("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,H.value]]),t(U,{"current-page":A.value,"onUpdate:currentPage":e[2]||(e[2]=a=>A.value=a),"page-size":O.value,"onUpdate:pageSize":e[3]||(e[3]=a=>O.value=a),total:xe.value,onCurrentChange:L,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1}),t(k,{label:"试炼资格审核",name:"registrations"},{default:o(()=>[c("div",Ut,[c("div",$t,[t(B,{modelValue:j.value,"onUpdate:modelValue":e[4]||(e[4]=a=>j.value=a),placeholder:"选择试炼",style:{width:"300px"},onChange:Q},{default:o(()=>[(d(!0),$(Y,null,q(V.value,a=>(d(),f(I,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),x((d(),f(h,{data:M.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"userName",label:"哥布林名",width:"150"}),t(r,{prop:"teamName",label:"部落名称",width:"150"}),t(r,{prop:"status",label:"状态",width:"120"},{default:o(({row:a})=>[t(Ne,{type:Fe(a.status)},{default:o(()=>[u(je(a.status),1)]),_:2},1032,["type"])]),_:1}),t(r,{prop:"applyTime",label:"申请时间",width:"180"}),t(r,{label:"操作",width:"200",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",type:"success",onClick:g=>Te(a.id,"approved"),disabled:a.status!=="pending"},{default:o(()=>[...e[36]||(e[36]=[u("通过",-1)])]),_:1},8,["onClick","disabled"]),t(s,{size:"small",type:"danger",onClick:g=>Te(a.id,"rejected"),disabled:a.status!=="pending"},{default:o(()=>[...e[37]||(e[37]=[u("拒绝",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["data"])),[[C,K.value]]),t(U,{"current-page":_e.value,"onUpdate:currentPage":e[5]||(e[5]=a=>_e.value=a),"page-size":ke.value,"onUpdate:pageSize":e[6]||(e[6]=a=>ke.value=a),total:ze.value,onCurrentChange:Q,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1}),t(k,{label:"战利品管理",name:"submissions"},{default:o(()=>[c("div",Dt,[c("div",Rt,[t(B,{modelValue:b.value,"onUpdate:modelValue":e[7]||(e[7]=a=>b.value=a),placeholder:"选择试炼",style:{width:"300px"},onChange:te},{default:o(()=>[(d(!0),$(Y,null,q(V.value,a=>(d(),f(I,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(s,{type:"primary",style:{"margin-left":"10px"},onClick:Ae,disabled:!b.value},{default:o(()=>[...e[38]||(e[38]=[u("导出战利品清单",-1)])]),_:1},8,["disabled"]),t(s,{type:"success",style:{"margin-left":"10px"},onClick:He,disabled:!b.value},{default:o(()=>[...e[39]||(e[39]=[u("查看战力榜",-1)])]),_:1},8,["disabled"])]),x((d(),f(h,{data:E.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"teamName",label:"部落名称",width:"150"}),t(r,{prop:"submitTime",label:"上交时间",width:"180"}),t(r,{prop:"score",label:"战力值",width:"100"}),t(r,{prop:"status",label:"状态",width:"120"}),t(r,{label:"操作",width:"250",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Oe(a.id)},{default:o(()=>[...e[40]||(e[40]=[u("查看详情",-1)])]),_:1},8,["onClick"]),t(s,{size:"small",type:"primary",onClick:g=>Ye(a)},{default:o(()=>[...e[41]||(e[41]=[u("鉴定",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,W.value]]),t(U,{"current-page":X.value,"onUpdate:currentPage":e[8]||(e[8]=a=>X.value=a),"page-size":Z.value,"onUpdate:pageSize":e[9]||(e[9]=a=>Z.value=a),total:Se.value,onCurrentChange:te,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1}),t(k,{label:"部落管理",name:"teams"},{default:o(()=>[c("div",Nt,[c("div",Pt,[t(B,{modelValue:oe.value,"onUpdate:modelValue":e[10]||(e[10]=a=>oe.value=a),placeholder:"选择试炼",style:{width:"300px"},onChange:Ge},{default:o(()=>[(d(!0),$(Y,null,q(V.value,a=>(d(),f(I,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),x((d(),f(h,{data:ae.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"teamName",label:"部落名称",width:"200"}),t(r,{prop:"leaderName",label:"酋长",width:"150"}),t(r,{prop:"memberCount",label:"部下数量",width:"100"}),t(r,{prop:"createTime",label:"创建时间",width:"180"}),t(r,{label:"操作",width:"150",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Je(a.id)},{default:o(()=>[...e[42]||(e[42]=[u("查看详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,le.value]])])]),_:1}),t(k,{label:"招募令管理",name:"recruitments"},{default:o(()=>[c("div",Lt,[c("div",Mt,[t(B,{modelValue:ue.value,"onUpdate:modelValue":e[11]||(e[11]=a=>ue.value=a),placeholder:"选择试炼（可选）",style:{width:"300px"},clearable:"",onChange:de},{default:o(()=>[(d(!0),$(Y,null,q(V.value,a=>(d(),f(I,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),x((d(),f(h,{data:se.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"title",label:"标题",width:"250"}),t(r,{prop:"author",label:"发布哥布林",width:"150"}),t(r,{prop:"competitionName",label:"试炼",width:"200"}),t(r,{prop:"createTime",label:"发布时间",width:"180"}),t(r,{label:"操作",width:"200",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Ke(a.id)},{default:o(()=>[...e[43]||(e[43]=[u("查看详情",-1)])]),_:1},8,["onClick"]),t(s,{size:"small",type:"danger",onClick:g=>Qe(a.id)},{default:o(()=>[...e[44]||(e[44]=[u("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,ne.value]]),t(U,{"current-page":re.value,"onUpdate:currentPage":e[12]||(e[12]=a=>re.value=a),"page-size":ie.value,"onUpdate:pageSize":e[13]||(e[13]=a=>ie.value=a),total:$e.value,onCurrentChange:de,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1}),t(k,{label:"消息管理",name:"messages"},{default:o(()=>[c("div",jt,[x((d(),f(h,{data:pe.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"会话ID",width:"100"}),t(r,{prop:"sessionName",label:"会话名称",width:"250"}),t(r,{prop:"participantCount",label:"参与人数",width:"120"}),t(r,{prop:"lastMessageTime",label:"最后消息时间",width:"180"}),t(r,{label:"操作",width:"150",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Xe(a.id)},{default:o(()=>[...e[45]||(e[45]=[u("查看消息",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,me.value]]),t(U,{"current-page":ce.value,"onUpdate:currentPage":e[14]||(e[14]=a=>ce.value=a),"page-size":ve.value,"onUpdate:pageSize":e[15]||(e[15]=a=>ve.value=a),total:De.value,onCurrentChange:We,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1}),t(k,{label:"用户管理",name:"users"},{default:o(()=>[c("div",Et,[c("div",It,[t(v,{modelValue:we.value,"onUpdate:modelValue":e[16]||(e[16]=a=>we.value=a),placeholder:"搜索用户名",style:{width:"300px"},clearable:"",onChange:P},null,8,["modelValue"])]),x((d(),f(h,{data:ge.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"userAccount",label:"账号",width:"150"}),t(r,{prop:"userName",label:"用户名",width:"150"}),t(r,{prop:"userRole",label:"角色",width:"100"},{default:o(({row:a})=>[t(Ne,{type:a.userRole===1?"danger":"primary"},{default:o(()=>[u(je(a.userRole===1?"管理员":"学生"),1)]),_:2},1032,["type"])]),_:1}),t(r,{prop:"phone",label:"手机号",width:"130"}),t(r,{prop:"email",label:"邮箱",width:"200"}),t(r,{label:"操作",width:"250",fixed:"right"},{default:o(({row:a})=>[t(s,{size:"small",onClick:g=>Ze(a)},{default:o(()=>[...e[46]||(e[46]=[u("切换角色",-1)])]),_:1},8,["onClick"]),t(s,{size:"small",type:"danger",onClick:g=>et(a.id)},{default:o(()=>[...e[47]||(e[47]=[u("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[C,fe.value]]),t(U,{"current-page":be.value,"onUpdate:currentPage":e[17]||(e[17]=a=>be.value=a),"page-size":ye.value,"onUpdate:pageSize":e[18]||(e[18]=a=>ye.value=a),total:Re.value,onCurrentChange:P,layout:"total, prev, pager, next",style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total"])])]),_:1})]),_:1},8,["modelValue"]),t(F,{modelValue:D.value,"onUpdate:modelValue":e[26]||(e[26]=a=>D.value=a),title:p.value.id?"编辑竞赛":"新增竞赛",width:"600px"},{footer:o(()=>[t(s,{onClick:e[25]||(e[25]=a=>D.value=!1)},{default:o(()=>[...e[48]||(e[48]=[u("取消",-1)])]),_:1}),t(s,{type:"primary",onClick:Ie,loading:T.value},{default:o(()=>[...e[49]||(e[49]=[u("保存",-1)])]),_:1},8,["loading"])]),default:o(()=>[t(Me,{model:p.value,"label-width":"100px",ref_key:"competitionFormRef",ref:J},{default:o(()=>[t(z,{label:"竞赛名称",prop:"name",rules:[{required:!0,message:"请输入竞赛名称"}]},{default:o(()=>[t(v,{modelValue:p.value.name,"onUpdate:modelValue":e[20]||(e[20]=a=>p.value.name=a)},null,8,["modelValue"])]),_:1}),t(z,{label:"摘要",prop:"summary",rules:[{required:!0,message:"请输入摘要"}]},{default:o(()=>[t(v,{modelValue:p.value.summary,"onUpdate:modelValue":e[21]||(e[21]=a=>p.value.summary=a),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),t(z,{label:"开始时间",prop:"startTime",rules:[{required:!0,message:"请选择开始时间"}]},{default:o(()=>[t(Pe,{modelValue:p.value.startTime,"onUpdate:modelValue":e[22]||(e[22]=a=>p.value.startTime=a),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"选择开始时间"},null,8,["modelValue"])]),_:1}),t(z,{label:"结束时间",prop:"endTime",rules:[{required:!0,message:"请选择结束时间"}]},{default:o(()=>[t(Pe,{modelValue:p.value.endTime,"onUpdate:modelValue":e[23]||(e[23]=a=>p.value.endTime=a),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"选择结束时间"},null,8,["modelValue"])]),_:1}),t(z,{label:"队伍人数",prop:"maxMembers",rules:[{required:!0,message:"请输入队伍人数"}]},{default:o(()=>[t(Le,{modelValue:p.value.maxMembers,"onUpdate:modelValue":e[24]||(e[24]=a=>p.value.maxMembers=a),min:1,max:10},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t(F,{modelValue:R.value,"onUpdate:modelValue":e[30]||(e[30]=a=>R.value=a),title:"评分",width:"500px"},{footer:o(()=>[t(s,{onClick:e[29]||(e[29]=a=>R.value=!1)},{default:o(()=>[...e[50]||(e[50]=[u("取消",-1)])]),_:1}),t(s,{type:"primary",onClick:qe,loading:T.value},{default:o(()=>[...e[51]||(e[51]=[u("保存",-1)])]),_:1},8,["loading"])]),default:o(()=>[t(Me,{model:_.value,"label-width":"80px"},{default:o(()=>[t(z,{label:"分数"},{default:o(()=>[t(Le,{modelValue:_.value.score,"onUpdate:modelValue":e[27]||(e[27]=a=>_.value.score=a),min:0,max:100},null,8,["modelValue"])]),_:1}),t(z,{label:"评语"},{default:o(()=>[t(v,{modelValue:_.value.comment,"onUpdate:modelValue":e[28]||(e[28]=a=>_.value.comment=a),type:"textarea",rows:4},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(F,{modelValue:ee.value,"onUpdate:modelValue":e[31]||(e[31]=a=>ee.value=a),title:"成绩榜单",width:"800px"},{default:o(()=>[t(h,{data:Ue.value,border:"",stripe:""},{default:o(()=>[t(r,{prop:"rank",label:"排名",width:"80"}),t(r,{prop:"teamName",label:"队伍名称",width:"200"}),t(r,{prop:"score",label:"分数",width:"100"}),t(r,{prop:"submitTime",label:"提交时间"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),t(F,{modelValue:S.value,"onUpdate:modelValue":e[32]||(e[32]=a=>S.value=a),title:N.value,width:"800px"},{default:o(()=>[x((d(),$("div",Bt,[c("div",{innerHTML:w.value},null,8,Ft)])),[[C,y.value]])]),_:1},8,["modelValue","title"])])}}},Jt=Vt(Yt,[["__scopeId","data-v-eb18ae53"]]);export{Jt as default};
